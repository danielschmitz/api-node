# api-node

A minimalist backend API to my books, using a Airbnb schema

# Install

```
git clone https://github.com/danielschmitz/api-node.git
cd api-node
npm install
npm run createdb
npm run dev
```

API is litening at http://localhost:3000

Use the "Rest Client" VSCode Extension to make calls to API
https://marketplace.visualstudio.com/items?itemName=humao.rest-client

# Database orm (generated by dbdiagram.io)

![](database.png)

dbdiagram.io diagram:
```
Table users {
  id integer [PK]
  email varchar
  name varchar
  password varchar
  isHost boolean
  
}

Table bookings {
  id integer PK
  user_id integer [ref: > users.id]
  place_id integer [ref: > places.id]
  start_date date
  end_date date
  price float
}

Table places [headercolor: #4B82B0] {
  id integer PK
  user_id integer [ref: > users.id]
  city_id varchar [ref: > cities.id]
  name string
  address varchar
  price float
}

Table reviews {
  id integer PK
  place_id integer [ref: > places.id]
  rating tinyint
  review_body text
}

Table cities {
  id integer PK
  name varchar
  country_id integer [ref: > countries.id]
}

Table countries {
  id integer PK
  name varchar
  capital varchar
  continent varchar
}

Table photos {
  id integer PK
  place_id integer [ref: > places.id]
  name varchar
  photo varchar
}
```

# http common status code 

| Status Code | Meaning | Description |
| --- | --- | --- |
| 200 | OK | Successful request |
| 201 | Created | Resource created successfully |
| 204 | No Content | Successful request but no content to return |
| 400 | Bad Request | Error in request |
| 401 | Unauthorized | Not authorized |
| 403 | Forbidden | Forbidden |
| 404 | Not Found | Not found |
| 500 | Internal Server Error | Internal server error |
| 503 | Service Unavailable | Service unavailable |